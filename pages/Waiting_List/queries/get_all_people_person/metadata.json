{
  "gitSyncId": "688f7c8487c169738493a99c_77a35626-2261-4a39-9b69-c6e08971a803",
  "id": "Waiting_List_get_all_people_person",
  "pluginId": "graphql-plugin",
  "pluginType": "API",
  "unpublishedAction": {
    "actionConfiguration": {
      "autoGeneratedHeaders": [],
      "body": "query GetNewEmployees($limit: Int!, $offset: Int!, $where: people_person_v0_bool_exp!, $order_by: [people_person_v0_order_by!]) {\n  count: people_person_v0_aggregate(where: $where) {\n    aggregate {\n      count\n    }\n  }\n  person: people_person_v0(limit: $limit, offset: $offset, order_by: $order_by, where: $where) {\n    AuditCreatedAt\n    FestCloudID\n    FamilyName\n    Name\n    Gender\n    Birthday\n    MiddleName\n\t\tperson_festcloudid_employee{\n\t\t Stage\n\t\t}\n    person_festcloudid_principal {\n      FestCloudID\n      contact_principalfestcloudid_array {\n        Email\n        PhoneNumber\n        FestCloudID\n      }\n    }\n  }\n}\n",
      "encodeParamsToggle": true,
      "formData": {
        "apiContentType": "application/json"
      },
      "headers": [
        {
          "key": "Authorization",
          "value": "Bearer {{appsmith.store.accessToken}}"
        },
        {
          "key": "X-Hasura-Role",
          "value": "{{SecurityService.getRoleByPermission(SecurityService.permissions.principal_view)}}"
        }
      ],
      "httpMethod": "POST",
      "httpVersion": "HTTP11",
      "paginationType": "NONE",
      "pluginSpecifiedTemplates": [
        {
          "value": true
        },
        {
          "value": "{\n  \"where\": {\n    \"_and\": [\n      {\n        \"_or\": [\n          {\n            \"person_festcloudid_employee\": {\n              \"Stage\": { \"_eq\": \"Returned\" }\n            }\n          },\n          {\n            \"_not\": { \"person_festcloudid_employee\": {} }\n          }\n        ]\n      },\n      {\n        \"_or\": [\n          { \"Name\": { \"_ilike\": \"{{ '%' + (InputSearch.text || '') + '%' }}\" } },\n          { \"FamilyName\": { \"_ilike\": \"{{ '%' + (InputSearch.text || '') + '%' }}\" } },\n          {\n            \"_and\": [\n              {\n                \"Name\": {\n                  \"_ilike\": \"{{ InputSearch.text && InputSearch.text.split(' ').length > 0 ? '%' + InputSearch.text.split(' ')[0] + '%' : '%%' }}\"\n                }\n              },\n              {\n                \"FamilyName\": {\n                  \"_ilike\": \"{{ InputSearch.text && InputSearch.text.split(' ').length > 1 ? '%' + InputSearch.text.split(' ')[1] + '%' : '%%' }}\"\n                }\n              }\n            ]\n          },\n          {\n            \"_and\": [\n              {\n                \"FamilyName\": {\n                  \"_ilike\": \"{{ InputSearch.text && InputSearch.text.split(' ').length > 0 ? '%' + InputSearch.text.split(' ')[0] + '%' : '%%' }}\"\n                }\n              },\n              {\n                \"Name\": {\n                  \"_ilike\": \"{{ InputSearch.text && InputSearch.text.split(' ').length > 1 ? '%' + InputSearch.text.split(' ')[1] + '%' : '%%' }}\"\n                }\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  },\n  \"limit\": {{ waiting_list.pageSize }},\n  \"offset\": {{ (waiting_list.pageNo - 1) * waiting_list.pageSize }},\n  \"order_by\": {{ appsmith.URL.queryParams.waitingsort ? (\n    appsmith.URL.queryParams.waitingsort.split('-')[0] === 'name'\n      ? { \"FamilyName\": appsmith.URL.queryParams.waitingsort.split('-')[1] || \"asc_nulls_last\" }\n      : { \"AuditUpdatedAt\": appsmith.URL.queryParams.waitingsort.split('-')[1] || \"desc_nulls_last\" }\n  ) : { \"AuditUpdatedAt\": \"desc_nulls_last\" }}}\n}\n"
        },
        {
          "value": {}
        }
      ],
      "queryParameters": [],
      "timeoutInMillisecond": 30000
    },
    "confirmBeforeExecute": false,
    "datasource": {
      "datasourceConfiguration": {
        "url": "https://hasura-uat.srv.festcloud.ai/v1/graphql"
      },
      "isAutoGenerated": false,
      "name": "DEFAULT_REST_DATASOURCE",
      "pluginId": "graphql-plugin"
    },
    "dynamicBindingPathList": [
      {
        "key": "headers[1].value"
      },
      {
        "key": "pluginSpecifiedTemplates[1].value"
      }
    ],
    "executeOnLoad": false,
    "name": "get_all_people_person",
    "pageId": "Waiting_List",
    "userSetOnLoad": true
  }
}